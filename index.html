<!DOCTYPE html>
<html lang="en">
  <head>
    <title>KBlog - Kane 的博客</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="欢迎来到 Kane 的博客，分享前端学习笔记和个人随笔。"
    />
    <meta name="keywords" content="html,css,js,chart,ilukane,kblog" />
    <meta name="author" content="Kane" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="KBlog - Kane 的博客" />
    <meta
      property="og:description"
      content="欢迎来到 Kane 的博客，分享前端学习笔记和个人随笔。"
    />
    <meta property="og:image" content="https://ilukane.top/assets/img/tx.jpg" />
    <meta property="og:url" content="https://ilukane.top" />
    <meta property="og:site_name" content="KBlog" />

    <!-- Twitter Card Meta Tags -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content="KBlog - Kane 的博客" />
    <meta
      property="twitter:description"
      content="欢迎来到 Kane 的博客，分享前端学习笔记和个人随笔。"
    />
    <meta
      property="twitter:image"
      content="https://ilukane.top/assets/img/tx.jpg"
    />

    <!-- Favicon -->
    <link rel="shortcut icon" href="/assets/img/tx.jpg" type="image/x-icon" />

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/index.css" />
    <link rel="stylesheet" href="/index.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-okaidia.min.css"
      rel="stylesheet"
    />

    <!-- Prism.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  </head>
  <body>
    <div class="khblog">
      <div class="top">
        <h1>欢迎来到我的博客</h1>
        <p>
          我是一个热爱前端开发的学习者，这里记录了我的编程旅程与成长。通过这个博客，我希望能与更多人分享我的学习笔记和项目成果，也期待能够和你们交流和进步。
        </p>
      </div>
      <div class="item line">
        <div class="item-line"></div>
      </div>
      <div class="item">
        <div class="item-line"></div>
        <div class="item-box">
          <div class="author">
            <div class="author-avatar"></div>
            <div class="author-name">Kindergarten boss</div>
            <div class="author-desc">
              <div class="author-desc-on">要么庸俗，要么孤独</div>
              <div class="author-desc-off">ilukane.top</div>
            </div>
            <div class="author-text">前端开发爱好者</div>
            <div class="author-contact">
              <div class="contact-github">
                <img src="/assets/icon/githubIcon.svg" />
              </div>
              <div class="contact-qq">
                <img src="/assets/icon/qqIcon.svg" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="item line">
        <div class="item-line"></div>
      </div>
      <div class="item">
        <div class="item-line"></div>
        <div class="item-box">
          <div class="slidebox">
            <div class="slidebox-icon">
              <img src="/assets/icon/noteIcon.svg" alt="" />
            </div>
            <div class="slidebox-title">学习笔记</div>
            <p class="slidebox-subtitle">
              分享我在前端开发和编程中的学习记录，涵盖
              HTML、CSS、JavaScript、Vue.js 等内容。
            </p>
            <div class="slidebox-code"></div>
          </div>
        </div>
      </div>
      <div class="item line">
        <div class="item-line"></div>
      </div>
      <div class="item">
        <div class="item-line"></div>
        <div class="item-box">
          <div class="slide">
            <div class="slidebox">
              <div class="slidebox-icon">
                <img src="/assets/icon/projectIcon.svg" alt="" />
              </div>
              <div class="slidebox-title">个人项目</div>
              <p class="slidebox-subtitle">
                展示我开发的各种项目，从小工具到完整应用。
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="item line">
        <div class="item-line"></div>
      </div>
      <div class="item">
        <div class="item-line"></div>
        <div class="item-box">
          <div class="slidebox">
            <div class="slidebox-icon">
              <img src="/assets/icon/logIcon.svg" alt="" />
            </div>
            <div class="slidebox-title">个人空间</div>
            <p class="slidebox-subtitle">
              记录日常生活中的点滴，偶尔分享我的想法与生活灵感。
            </p>
          </div>
        </div>
      </div>
      <div class="item line">
        <div class="item-line"></div>
      </div>
      <div class="item">
        <div class="item-line"></div>
        <div class="item-box">
          <div class="slidebox">
            <div class="slidebox-icon">
              <img src="/assets/icon/chartIcon.svg" alt="" />
            </div>
            <div class="slidebox-title">个人图表 Kchart</div>
            <p class="slidebox-subtitle">
              用可视化图表展示数据，直观地展示分析结果和学习过程。
            </p>
          </div>
        </div>
      </div>
      <div class="item line">
        <div class="item-line"></div>
      </div>
      <div class="item">
        <div class="item-line"></div>
        <div class="item-box">
          <div class="slidebox">
            <div class="slidebox-icon">
              <img src="/assets/icon/toolIcon.svg" alt="" />
            </div>
            <div class="slidebox-title">个人工具 Ktool</div>
            <p class="slidebox-subtitle">
              提供一些方便的小工具，帮助开发者简化工作流程，提高效率。
            </p>
          </div>
        </div>
      </div>
      <div class="item line">
        <div class="item-line"></div>
      </div>
      <div class="bottom">
        <button class="openkblog" type="button">进入博客</button>
      </div>
    </div>

    <script>
      const $ = (selector) => document.querySelector(selector);
      const $$ = (tagname, classname, idname, content) => {
        const element = document.createElement(tagname);
        if (classname) element.className = classname;
        if (idname) element.id = idname;
        if (content) element.innerText = content;
        return element;
      };

      const codenote = [
        {
          indent: "0",
          value: "const $ = (selector) => document.querySelector(selector);",
        },
        {
          indent: "0",
          value: "const $$ = (tagname, classname, idname, content) => {",
        },
        {
          indent: "2",
          value: "const element = document.createElement(tagname);",
        },
        { indent: "2", value: "if (classname) element.className = classname;" },
        { indent: "2", value: "if (idname) element.id = idname;" },
        { indent: "2", value: "if (content) element.innerText = content;" },
        { indent: "2", value: "return element;" },
        { indent: "0", value: "};" },
      ];

      const codebox = $(".slidebox-code");
      const output = (line, index) => {
        const pre = $$("pre");
        const code = $$("code");
        code.className = "language-javascript";
        pre.appendChild(code);
        pre.style.textIndent = `${line.indent}em`;
        codebox.appendChild(pre);

        let text = "";
        const length = line.value.length;

        const addCharacter = (i) => {
          if (i < length) {
            text += line.value[i];
            code.innerText = text;
            requestAnimationFrame(() => addCharacter(i + 1));
            Prism.highlightElement(code);
          } else {
            if (index < codenote.length - 1) {
              setTimeout(() => output(codenote[index + 1], index + 1), 200);
            }
          }
        };
        addCharacter(0);
      };
      output(codenote[0], 0);

      $(".contact-github").addEventListener("click", () => {
        window.open("https://github.com/iluelyar");
      });

      $(".contact-qq").addEventListener("click", () => {
        window.open(
          "https://wpa.qq.com/msgrd?v=3&uin=2919512707&site=qq&menu=yes"
        );
        showDesktopNotification(
          "欢迎来到我的博客！",
          "QQ:2919512707",
          "https://ilukane.top/assets/img/tx.jpg",
          "https://picsum.photos/1000/645"
        );
      });

      $(".openkblog").addEventListener("click", () => {
        window.open("/notes/1.html");
      });

      function showDesktopNotification(title, body, icon, image) {
        if (!("Notification" in window)) {
          alert("当前浏览器不支持桌面通知，请手动添加 QQ:2919512707。");
          return;
        }

        Notification.requestPermission().then((permission) => {
          if (permission === "granted") {
            const notification = new Notification(title, {
              body: body,
              icon: icon,
              image: image,
              requireInteraction: true,
            });

            notification.onclick = () => {
              window.open(
                "https://wpa.qq.com/msgrd?v=3&uin=2919512707&site=qq&menu=yes"
              );
            };
          } else if (permission === "denied") {
            alert("通知权限被拒绝，请手动添加 QQ：2919512707。");
          }
        });
      }
    </script>
  </body>
</html>
